"use strict";!function(){function a(){document.querySelector(".js-tab--show").classList.remove("js-tab--show"),document.querySelector(".js-tab--active").classList.remove("js-tab--active")}function t(e){a(),e.target.classList.add("js-tab--active");var t=e.target.classList[1];document.querySelectorAll("."+t)[1].classList.add("js-tab--show")}function o(){var e=!1,t=l.querySelector(".modal__input-error--phone");return r.validity.badInput||null===r.value||10!==r.value.length?t.classList.remove("modal__input-error--hidden-phone"):(t.classList.add("modal__input-error--hidden-phone"),e=!0,localStorage.setItem("modalPhone",r.value)),e}function n(){var e=!1,t=l.querySelector(".modal__input-error--email");return s.validity.typeMismatch||""===s.value?t.classList.remove("modal__input-error--hidden-email"):(t.classList.add("modal__input-error--hidden-email"),e=!0,localStorage.setItem("modalEmail",s.value)),e}document.querySelectorAll("button.js-tab").forEach(function(e){e.addEventListener("click",t)}),window.addEventListener("load",function(){document.querySelectorAll(".js-content").forEach(function(e){e.classList.add("js-tab--hide")})}),document.querySelectorAll(".places-visit__link").forEach(function(e){e.addEventListener("click",function(e){a();var t=e.target.closest(".places-visit__link").attributes.href.value.slice(1);document.querySelector("."+t).classList.add("js-tab--active"),document.querySelector("#"+t).classList.add("js-tab--show")})});var e=document.querySelectorAll(".country__link"),l=document.querySelector(".modal"),r=l.querySelector("input[name=modal-phone]"),s=l.querySelector("input[name=modal-email]");e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),l.classList.add("modal--show"),r.focus(),r.value=localStorage.getItem("modalPhone"),s.value=localStorage.getItem("modalEmail")})}),r.addEventListener("input",function(){o()}),s.addEventListener("input",function(){n()}),l.querySelector(".modal__close").addEventListener("click",function(e){e.preventDefault(),l.classList.remove("modal--show"),d()}),document.addEventListener("keydown",function(e){"Escape"===e.key&&(l.classList.remove("modal--show"),d())}),l.addEventListener("click",function(e){"modal"===e.target.classList[0]&&(l.classList.remove("modal--show"),d())});var c=l.querySelector(".modal__form"),i=l.querySelector(".modal__success");function d(){c.classList.remove("modal__form--hidden"),i.classList.add("modal__success--hidden")}function u(){var e=!1,t=v.querySelector(".form__input-error--phone");return f.validity.badInput||null===f.value||10!==f.value.length?t.classList.remove("form__input-error--hidden-phone"):(t.classList.add("form__input-error--hidden-phone"),e=!0,localStorage.setItem("formPhone",f.value)),e}function m(){var e=!1,t=v.querySelector(".form__input-error--email");return _.validity.typeMismatch||""===_.value?t.classList.remove("form__input-error--hidden-email"):(t.classList.add("form__input-error--hidden-email"),e=!0,localStorage.setItem("formEmail",_.value)),e}c.addEventListener("submit",function(e){e.preventDefault(),o()&&n()&&(c.classList.add("modal__form--hidden"),i.classList.remove("modal__success--hidden"))}),document.querySelectorAll(".package__buy").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),l.classList.add("modal--show")})});var v=document.querySelector(".form__item"),f=v.querySelector("input[name=phone"),_=v.querySelector("input[name=email"),p=document.querySelector(".modal--success");v.addEventListener("submit",function(e){e.preventDefault(),u()&&m()&&p.classList.add("modal--show")}),p.querySelector(".modal__close--success").addEventListener("click",function(e){e.preventDefault(),p.classList.remove("modal--show")}),document.addEventListener("keydown",function(e){"Escape"===e.key&&p.classList.remove("modal--show")}),p.addEventListener("click",function(e){"modal--success"===e.target.classList[1]&&p.classList.remove("modal--show")}),f.addEventListener("input",function(){u()}),_.addEventListener("input",function(){m()}),f.value=localStorage.getItem("formPhone"),_.value=localStorage.getItem("formEmail");var L=document.querySelector(".main-menu-toggle"),h=document.querySelector(".main-nav__menu-wrapper");L.addEventListener("click",function(e){e.preventDefault(),h.classList.remove("main-nav__menu-wrapper--hidden"),L.style.display="none",document.querySelector(".main-nav__close").addEventListener("click",function(e){e.preventDefault(),h.classList.add("main-nav__menu-wrapper--hidden"),L.style.display="block"})})}();